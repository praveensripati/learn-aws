<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:.5in .5in .5in .5in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>Use Case</span></b></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>24x7 has
been obsession and customers expect the online services whether it’s an
ecommerce website or one for watching videos on Netflix on Hotstar. Customers
expect the service to be up and running all the time and any downtimes makes
the customer to switch to some other service which is a loss of revenue to the
company.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>So,
companies take a lot of measures to have the infrastructure across multiple
points of failures like setting them up in different geographical locations,
having multiple backups, setting up health checks. With all this comes complex
routing policies. Manually creating multiple records with different routing
policies and dependencies among them is prone to errors and time consuming
also. This is where “Traffic Flow” a feature of Route53 comes into play. Not
only everything can be automated, but we can use the same can be used across
multiple domains like praveen.com, praveen.in with minimal changes.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=457 height=279 id="Picture 1"
src="007-UseCase-53-ELB-EC2-S3_files/image001.png"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>In this
use case we will be using the Route53 features, so that Indian Customers using
the site are redirected to the resources in Mumbai Region and the US Customers
are redirected to the resources in North Virginia Region. This provides better
latency and also high customer satisfaction. Also, hardware/software may go bad
(in the Cloud also), so instead of giving up, we would be redirecting the users
to S3 in case of failover to display a static with minimum functionality or
with the information mentioning that the site is down and it would up after
some time. The entire thing would be automated using the Route53 “Traffic Flow”
feature.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>We are
either in India or in US at a particular instant of time, so we how do we make
sure that customers are redirected either to the Mumbai Region or the North
Virginia resources depending on where they are located? We can create a Windows
EC2 in the appropriate Region and start browsing from that instance to make
sure we are displayed the appropriate webpage as per the Internalization
(I18N).</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>To make
the application even more fault tolerant, we can have an ELB and back it up
with multiple EC2 instances, so as to make sure that EC2 is not a single point
of failure.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>AWS
Services: </span></b><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>Route53,
ELB, EC2 and S3.</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go to </span><span
lang=EN-IN><a href="https://www.freenom.com/"><span style='font-size:12.0pt;
font-family:"Verdana",sans-serif'>https://www.freenom.com/</span></a></span><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'> and check
the availability for a domain.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 2"
src="007-UseCase-53-ELB-EC2-S3_files/image002.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Freenom
will show the available domains. Select on “Get it now!” for one you like.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 3"
src="007-UseCase-53-ELB-EC2-S3_files/image003.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Click
on Checkout.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 4"
src="007-UseCase-53-ELB-EC2-S3_files/image004.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Change
the Period to “12 Months @ FREE” and click on Checkout.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 5"
src="007-UseCase-53-ELB-EC2-S3_files/image005.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- If you
have an account with Freenom click on “Already Registered? Click here to login”
or else enter an email address and click on “Verify My Email Address”. I
clicked on “Already Registered? Click here to login”, since I already have an
account with Freenom.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 6"
src="007-UseCase-53-ELB-EC2-S3_files/image006.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Enter
the email and password and click on Login.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 7"
src="007-UseCase-53-ELB-EC2-S3_files/image007.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Click
on the name in the top right and go to “View cart”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 8"
src="007-UseCase-53-ELB-EC2-S3_files/image008.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Accept
“I have read and agree to the Terms &amp; Conditions” and click on “Complete
Order”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 9"
src="007-UseCase-53-ELB-EC2-S3_files/image009.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go to
Services in the top menu and click on “My Domains”. Here you will notice the
domains which have been registered with Freenom. I have already registered
praveen-sripati.tk domain with Freenom and would be using it for this particular
use case.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 10"
src="007-UseCase-53-ELB-EC2-S3_files/image010.jpg"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 11"
src="007-UseCase-53-ELB-EC2-S3_files/image011.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go to the EC2 Management Console, make
sure to select the North Virginia Region and create two EC2 instances with the
below details. Name them as NV-WS1 and NV-WS2.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>        - Ubuntu 18.04<br>
        - Security Group (allow inbound 22/SSH and 80/HTTP for everyone)<br>
        - Attach a Keypair for authentication</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=347 id="Picture 12"
src="007-UseCase-53-ELB-EC2-S3_files/image012.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Likewise switch to the Mumbai Region and create two more EC2 instances and
name them as Mumbai-WS1 and Mumbai-WS2. The naming is important to avoid
confusion as we have multiple EC2 instances.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=697 height=346 id="Picture 13"
src="007-UseCase-53-ELB-EC2-S3_files/image013.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Connect to the EC2 instances and execute
the below commands to install apache2 and create a static webpage.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>#become a root<br>
sudo su<br>
<br>
#get the list of softwares<br>
apt-get update<br>
<br>
#install the apache2 webserver<br>
apt-get install apache2<br>
<br>
# start apache2<br>
service apache2 start<br>
<br>
#move to the default html folder<br>
cd /var/www/html<br>
<br>
#delete the existing index.html<br>
rm index.html<br>
<br>
#create a new index.html<br>
echo &quot;<b><span style='color:red'>Hello World!</span></b>&quot; &gt;
index.html</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- In the above commands replace “Hello
World!” with the below text appropriately to reflect the location of the
server.</span></p>

<p class=MsoNormal style='margin-left:.5in'><span lang=EN-IN style='font-size:
12.0pt;line-height:115%;font-family:"Verdana",sans-serif'>- I am NV-WS1<br>
- I am NV-WS2<br>
- I am Mumbai-WS1<br>
- I am Mumbai WS2</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>It’s required to have different content in
the index.html, so that when we try to access the webpages later on, we know
exactly which EC2 instance we are hitting or which EC2 instance is serving the
request. Before proceeding to the next step, make sure that the webpages are
accessible via the browser by using the Public IP of the EC2 instances.<br
clear=all style='page-break-before:always'>
</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Create Target Groups in both the regions
and associate the EC2 instances in the corresponding regions.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 18" src="007-UseCase-53-ELB-EC2-S3_files/image014.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 19" src="007-UseCase-53-ELB-EC2-S3_files/image015.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Create an Application Load Balancer in
both the regions and make sure to associate the above created Target Groups. Note
down the “DNS name” of both the Application Load Balancers. Also, make sure all
the web pages on the EC2 instances are accessible via the DNS name of the
Application Load Balancer in the browser.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 20" src="007-UseCase-53-ELB-EC2-S3_files/image016.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 23" src="007-UseCase-53-ELB-EC2-S3_files/image017.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Now we will create a statice website in
S3. This will act as backup, just in case the Application Load Balancer or the
EC2 instances are down for some reason.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Create an S3 bucket with the same name as
the domain registered with Freenom. The Region where the bucket is created
doesn’t matter. Create a file index.html with the below content and upload to
the S3 bucket.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&lt;html&gt;<br>
        &lt;body&gt;<br>
                S3 Backup Site<br>
        &lt;/body&gt;<br>
&lt;/html&gt;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 26" src="007-UseCase-53-ELB-EC2-S3_files/image018.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Go to the Permissions tab, make sure “Block public access” is selected and
turn of “Off” the “Block all public access” as shown below by click on the Edit
button.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=698 height=332
id="Picture 27" src="007-UseCase-53-ELB-EC2-S3_files/image019.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Click on the Bucket Policy and use the
below JSON to give the public read-only permissions to the bucket and the
contents within it. Make sure to change the bucket name, before using the JSON.
Click on Apply for the permissions to take effect.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>{<br>
    &quot;Version&quot;: &quot;2012-10-17&quot;,<br>
    &quot;Statement&quot;: [<br>
        {<br>
            &quot;Sid&quot;: &quot;PublicReadGetObject&quot;,<br>
            &quot;Effect&quot;: &quot;Allow&quot;,<br>
            &quot;Principal&quot;: &quot;*&quot;,<br>
            &quot;Action&quot;: [<br>
                &quot;s3:GetObject&quot;<br>
            ],<br>
            &quot;Resource&quot;: [<br>
                &quot;arn:aws:s3:::<b><span style='color:red'>praveen-sripati.tk</span></b>/*&quot;<br>
            ]<br>
        }<br>
    ]<br>
}</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 28" src="007-UseCase-53-ELB-EC2-S3_files/image020.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go to the Properties tab and enable the
“Static website hosting” and specify the index.html as the Index document. Note
down the Endpoint and click on Save. Make sure that the index.html is
accessible via the browser using the Endpoint.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 29" src="007-UseCase-53-ELB-EC2-S3_files/image021.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
<br>
</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go to the Route53 Management Console and
the “Health checks” tab. Click on “Create health check”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 31" src="007-UseCase-53-ELB-EC2-S3_files/image022.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Enter the name as “NV-EC2-WebSite”, for the “Specify endpoint by” select
“Domain name” and enter the DNS name of the NV Application Load Balancer. Click
on Next.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 32" src="007-UseCase-53-ELB-EC2-S3_files/image023.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Click on “Create health check”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 34" src="007-UseCase-53-ELB-EC2-S3_files/image024.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 35" src="007-UseCase-53-ELB-EC2-S3_files/image025.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Likewise create another Health check for
called “Mumbai-EC2-Website” using the DNS name of the Mumbai Application Load
Balancer. Both of them would be healthy as both the Application Load Balancers
are working fine. Note down the ID of the both the health checks.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 36" src="007-UseCase-53-ELB-EC2-S3_files/image026.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go to the Hosted zones and click on
“Create hosted zone”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 37" src="007-UseCase-53-ELB-EC2-S3_files/image027.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
<br>
</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- For the Domain name, enter the same name
which was created in Freenom. Click on “Create hosted zone”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 38" src="007-UseCase-53-ELB-EC2-S3_files/image028.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
<img border=0 width=697 height=346 id="Picture 39"
src="007-UseCase-53-ELB-EC2-S3_files/image029.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- The Hosted zone would be created as shown
below with two records. One of record is of type NS (for Name Servers). Note
down the four name servers (ns-97.awsdns-12.com etc).</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 40" src="007-UseCase-53-ELB-EC2-S3_files/image030.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go back to Freenom and click on “Manage
Domain”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 41" src="007-UseCase-53-ELB-EC2-S3_files/image031.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Under the “Management Tools” select Nameservers.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 42" src="007-UseCase-53-ELB-EC2-S3_files/image032.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Select “Use custom nameservers (enter
below), enter the Nameservers got from the Route53 Management Console and click
on “Change Nameservers”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 43" src="007-UseCase-53-ELB-EC2-S3_files/image033.jpg"></span><span
lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br>
<br>
</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 44" src="007-UseCase-53-ELB-EC2-S3_files/image034.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- In the Route53 Management Console navigate
to “Traffic policies” and click on “Create traffic policy”</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 45" src="007-UseCase-53-ELB-EC2-S3_files/image035.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Give the Policy a name and click on Next.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 46" src="007-UseCase-53-ELB-EC2-S3_files/image036.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Click on “Import traffic policy”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 47" src="007-UseCase-53-ELB-EC2-S3_files/image037.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Copy the below JSON and click on “Import
traffic policy”. Also, make sure to make changes to the highlighted sections.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>        - Application Load Balancer DNS Name<br>
        - S3 Bucket name<br>
        - Health Check ID (the first is for Mumbai and second for North
Virginia)</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>{<br>
    &quot;AWSPolicyFormatVersion&quot;: &quot;2015-10-01&quot;,<br>
    &quot;RecordType&quot;: &quot;A&quot;,<br>
    &quot;Endpoints&quot;: {<br>
        &quot;endpoint-failover-SoCt&quot;: {<br>
            &quot;Type&quot;: &quot;application-load-balancer&quot;,<br>
            &quot;Value&quot;: &quot;<b><span style='color:red'>MyALB-Mumbai-739034449.ap-south-1.elb.amazonaws.com</span></b>&quot;<br>
        },<br>
        &quot;endpoint-failover-jQOZ&quot;: {<br>
            &quot;Type&quot;: &quot;s3-website&quot;,<br>
            &quot;Value&quot;: &quot;<b><span style='color:red'>praveen-sripati.tk</span></b>.s3-website.ap-south-1.amazonaws.com&quot;,<br>
            &quot;Region&quot;: &quot;ap-south-1&quot;<br>
        },<br>
        &quot;endpoint-failover-taLF&quot;: {<br>
            &quot;Type&quot;: &quot;application-load-balancer&quot;,<br>
            &quot;Value&quot;: &quot;<b><span style='color:red'>MyALB-NV-451634127.us-east-1.elb.amazonaws.com</span></b>&quot;<br>
        }<br>
    },<br>
    &quot;Rules&quot;: {<br>
        &quot;geo-start-XzOn&quot;: {<br>
            &quot;RuleType&quot;: &quot;geo&quot;,<br>
            &quot;Locations&quot;: [<br>
                {<br>
                    &quot;RuleReference&quot;: &quot;failover-geo-leDT&quot;,<br>
                    &quot;IsDefault&quot;: false,<br>
                    &quot;Country&quot;: &quot;IN&quot;,<br>
                    &quot;EvaluateTargetHealth&quot;: true<br>
                },<br>
                {<br>
                    &quot;IsDefault&quot;: false,<br>
                    &quot;Country&quot;: &quot;US&quot;,<br>
                    &quot;EvaluateTargetHealth&quot;: true,<br>
                    &quot;RuleReference&quot;: &quot;failover-geo-IqWN&quot;<br>
                }<br>
            ]<br>
        },<br>
        &quot;failover-geo-leDT&quot;: {<br>
            &quot;RuleType&quot;: &quot;failover&quot;,<br>
            &quot;Primary&quot;: {<br>
                &quot;EndpointReference&quot;:
&quot;endpoint-failover-SoCt&quot;,<br>
                &quot;EvaluateTargetHealth&quot;: true,<br>
                &quot;HealthCheck&quot;: &quot;<b><span style='color:red'>9b3a04e5-c492-470d-bddf-af9f5cd5ff86</span></b>&quot;<br>
            },<br>
            &quot;Secondary&quot;: {<br>
                &quot;EvaluateTargetHealth&quot;: true,<br>
                &quot;EndpointReference&quot;: &quot;endpoint-failover-jQOZ&quot;<br>
            }<br>
        },<br>
        &quot;failover-geo-IqWN&quot;: {<br>
            &quot;RuleType&quot;: &quot;failover&quot;,<br>
            &quot;Primary&quot;: {<br>
                &quot;EvaluateTargetHealth&quot;: true,<br>
                &quot;HealthCheck&quot;: &quot;<b><span style='color:red'>47146c98-360a-4f26-8ca1-052b02e55ab6</span></b>&quot;,<br>
                &quot;EndpointReference&quot;:
&quot;endpoint-failover-taLF&quot;<br>
            },<br>
            &quot;Secondary&quot;: {<br>
                &quot;EvaluateTargetHealth&quot;: true,<br>
                &quot;EndpointReference&quot;:
&quot;endpoint-failover-jQOZ&quot;<br>
            }<br>
        }<br>
    },<br>
    &quot;StartRule&quot;: &quot;geo-start-XzOn&quot;<br>
}</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 48" src="007-UseCase-53-ELB-EC2-S3_files/image038.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- The Traffic Policy should appear as shown
below. Zoom out and feel free to navigate the flow. Click on “Create traffic
policy”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 49" src="007-UseCase-53-ELB-EC2-S3_files/image039.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
<br>
</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Click on “Create policy records”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 50" src="007-UseCase-53-ELB-EC2-S3_files/image040.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 51" src="007-UseCase-53-ELB-EC2-S3_files/image041.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- In the Hosted Zone a new Record for “Traffic
policy record” would be created. There is no need to make any changes here.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=346
id="Picture 52" src="007-UseCase-53-ELB-EC2-S3_files/image042.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Open up a browser and navigate to the
domain name. Since, I am based out of India, it should be redirected to
Application Load Balancer in Mumbai by the “Geolocation rule” and then finally
to the Mumbai EC2. Refresh the screen and it should load balance between the
two webpages in Mumbai EC2 instances. The browser should display “I am
Mumbai-WS1” or “I am Mumbai-WS2”.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>Note that it takes a few minutes to hours for
the DNS name propagation, so this task might not work immediately. Try after
some time and also with different internet connections.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=698 height=377
id="Picture 53" src="007-UseCase-53-ELB-EC2-S3_files/image043.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go to the EC2 Management Console and make
sure North Virginia is selected as Region. Create an Windows EC2 instance, of
t2.micro.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 55" src="007-UseCase-53-ELB-EC2-S3_files/image044.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Connect to the Windows EC2 instance via RDP, open a browser navigate to the domain
name. The EC2 instance has been created in North Virginia, so the message “I am
NV-WS1” or “I am NV-WS2”should be displayed in the browser. Now, we are sure
the user is redirected to the web page based on the location.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=698 height=409
id="Picture 56" src="007-UseCase-53-ELB-EC2-S3_files/image045.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Go the EC2 Management Console, make sure
to select Mumbai as the Region. Stop both the EC2 instances.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 58" src="007-UseCase-53-ELB-EC2-S3_files/image046.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- The EC2 instances are down, the web pages are not accessible. So, the health
check for Mumnai-EC2-WebSite should become Unhealthy.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 59" src="007-UseCase-53-ELB-EC2-S3_files/image047.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Navigate via the browser to the domain
name and we should be redirected to the static website in S3, since the
Application Load Balancer is down and that the health checks are in Unhealthy
state. This routing happens by a combination of “Traffic policies” and “Policy
records” in the Route53.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=698 height=378
id="Picture 60" src="007-UseCase-53-ELB-EC2-S3_files/image048.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Start back the EC2 instances in Mumbai.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 61" src="007-UseCase-53-ELB-EC2-S3_files/image049.jpg"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- The health check for “Mumbai-EC2-WebSite”
should turn to healthy in a few minutes.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><img border=0 width=697 height=332
id="Picture 62" src="007-UseCase-53-ELB-EC2-S3_files/image050.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Navigating to the domain in the browser
should display “I am Mumbai-WS1” or “I am Mumbai-WS2”.<br>
<br>
</span></p>

<p class=MsoNormal><b><span lang=EN-IN style='font-size:12.0pt;line-height:
115%;font-family:"Verdana",sans-serif'>Conclusion</span></b></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>AWS has infrastructure (Regions/Availability
Zones/Edge Locations/Local Zones) spread across the world and this can be
leveraged by having redundancy to make our application spread across different
Regions. Also, by having the application close to the user, we would be able to
provide better latency to the end user.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>All of these requires complex routing
policies, which can be difficult to manage over time as the application becomes
complex. This is where, “Traffic policies” and “Policy records” feature of the
AWS Route53 come into play. By storing the Traffic policies in JSON format,
it’s possible to reproduce the same in different environments like
dev/test/pre-prod/prod.</span></p>

</div>

</body>

</html>
