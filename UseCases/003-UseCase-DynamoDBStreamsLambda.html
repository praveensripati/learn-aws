<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:.5in .5in .5in .5in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>Use Case</span></b></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>Let’s take
the case of an ecommerce application, users would be creating an account by
providing their profile details. In this process the users table is populated
with new items in the DynamoDB table (similar to rows in the RDBMS).</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>When a new
user details are populated in the users table, as part of the workflow we would
like to get a notification via email or notify some other application. In this
use case, once the front-end web application inserts an item into the DynamoDB
table, the Lambda function will be automatically called which sends an email
for the sake of notification. The functionality in the Lambda can be simply
replaced with the code to notify some other application (like marketing
application) via SQS.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=697 height=261 id="Picture 2"
src="003-UseCase-DynamoDBStreamsLambda_files/image001.png"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>AWS Services:</span></b><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'> DynamoDB,
Lambda, IAM and SES</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go to
the SES Console, click on “Verify a New Email Address”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 22"
src="003-UseCase-DynamoDBStreamsLambda_files/image002.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Enter the email address and click on
“Verify This Email Address”.</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=468 height=197 id="Picture 23"
src="003-UseCase-DynamoDBStreamsLambda_files/image003.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- An
email will be sent to this address with a link for the sake of verification.
Click on Close.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=436 height=198 id="Picture 24"
src="003-UseCase-DynamoDBStreamsLambda_files/image004.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>--
Initially the email will be in a “pending verification” status and after
clicking on the link in the email, the status of the email will change to
“verified”. This is to make sure that the SES service is not used for spamming.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 25"
src="003-UseCase-DynamoDBStreamsLambda_files/image005.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 26"
src="003-UseCase-DynamoDBStreamsLambda_files/image006.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Follow
the same steps and verify another email address. Once of the email would be
acting as the sender and the other as the receiver.</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Now
it’s time to create an IAM Role for Lambda. Go to the IAM Management Console,
click on Roles and click on “Create role”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 27"
src="003-UseCase-DynamoDBStreamsLambda_files/image007.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Select
Lambda as the service which is going to use this Role. Click on “Next:
Permissions”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 28"
src="003-UseCase-DynamoDBStreamsLambda_files/image008.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Select
the AWSLambdaDynamoDBExecutionRole and AmazonSESFullAccess policies and click
on “Next : Tags”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 29"
src="003-UseCase-DynamoDBStreamsLambda_files/image009.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 30"
src="003-UseCase-DynamoDBStreamsLambda_files/image010.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Tags
are optional. Simply, click on “Next : Review”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 31"
src="003-UseCase-DynamoDBStreamsLambda_files/image011.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
-- Give the role a name and click on “Create role”.</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 32"
src="003-UseCase-DynamoDBStreamsLambda_files/image012.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go to
the Lambda Management Console and click on “Create function”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 33"
src="003-UseCase-DynamoDBStreamsLambda_files/image013.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Enter the Function name, select the role
and NodeJS 10.x or Python2.7 and select the role created earlier. The Python
and NodeJS code for sending emails via SES has been mentioned in the next
sections. Use either of these languages for the Lambda as per your comfort.</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 34"
src="003-UseCase-DynamoDBStreamsLambda_files/image014.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Copy
the below NodeJS code. Make sure to replace the from and the to address with
the email address which have been verified earlier. And finally click on Save.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>var aws =
require('aws-sdk');</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>var ses =
new aws.SES({region: 'us-east-1'});</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>exports.handler
= function(event, context) {</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          console.log(&quot;Incoming:
&quot;, event);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          //
var output = querystring.parse(event);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          var
eParams = {</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   Destination:
{</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             ToAddresses:
[&quot;abc@gmail.com&quot;]//give the email ID which is verified by SES</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   },</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   Message:
{</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             Body:
{Text: {</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                                      Data:
&quot;Hurray a new user has been created !!!!&quot;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                                      }</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                                       },</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             Subject:
{  Data: &quot;New User&quot;}</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   },</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   Source:
&quot;xyz@gmail.com&quot; //give the email ID which is verified by SES</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          };</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          console.log('===SENDING
EMAIL===');</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          var
email = ses.sendEmail(eParams, function(err, data){</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   if(err)
console.log(err);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   else
{</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             console.log(&quot;===EMAIL
SENT===&quot;);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             console.log(data);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             console.log(&quot;EMAIL
CODE END&quot;);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             console.log('EMAIL:
', email);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                             context.succeed(event);</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>                   }</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>          });</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:10.0pt;font-family:"Verdana",sans-serif'>};</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
width=698 height=341 id="Picture 35"
src="003-UseCase-DynamoDBStreamsLambda_files/image015.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Copy the below Python code. Make sure to
replace the from and the to address with the email address which have been
verified earlier. And finally click on Save.<br>
<br>
</span><span lang=EN-IN style='font-size:10.0pt;line-height:115%;font-family:
"Verdana",sans-serif'>import boto3<br>
from botocore.exceptions import ClientError</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:10.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>print('Loading function')<br>
<br>
SENDER = &quot;</span><span lang=EN-IN><a href="mailto:xyz@gmail.com"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana",sans-serif'>xyz@gmail.com</span></a></span><span
lang=EN-IN style='font-size:10.0pt;line-height:115%;font-family:"Verdana",sans-serif'>&quot;<br>
RECIPIENT = &quot;</span><span lang=EN-IN><a href="mailto:abc@gmail.com"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana",sans-serif'>abc@gmail.com</span></a></span><span
lang=EN-IN style='font-size:10.0pt;line-height:115%;font-family:"Verdana",sans-serif'>&quot;<br>
SUBJECT = &quot;New User&quot;<br>
BODY_TEXT = &quot;Hurray a new user has been created !!!!&quot;<br>
<br>
AWS_REGION = &quot;us-east-1&quot;<br>
CHARSET = &quot;UTF-8&quot;<br>
<br>
def lambda_handler(event, context):<br>
<br>
          client = boto3.client('ses',region_name=AWS_REGION)<br>
<br>
          try:<br>
                   response = client.send_email(<br>
                             Destination={<br>
                                      'ToAddresses': [<br>
                                                RECIPIENT,<br>
                                      ],<br>
                             },<br>
                             Message={<br>
                                      'Body': {<br>
                                                'Text': {<br>
                                                          'Charset': CHARSET,<br>
                                                          'Data': BODY_TEXT,<br>
                                                },<br>
                                      },<br>
                                      'Subject': {<br>
                                                'Charset': CHARSET,<br>
                                                'Data': SUBJECT,<br>
                                      },<br>
                             },<br>
                             Source=SENDER<br>
                   )<br>
<br>
          # Error handling<br>
          except ClientError as e:<br>
                   print(e.response['Error']['Message'])<br>
          else:<br>
                   print(&quot;Email sent! Message ID:&quot;),<br>
                   print(response['MessageId'])<br>
<br>
</span><span lang=EN-IN style='font-family:"Verdana",sans-serif'><img border=0
width=697 height=338 id="Picture 3"
src="003-UseCase-DynamoDBStreamsLambda_files/image016.jpg"></span><span
lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go to
the DynamoDB Management Console and click on Create table. Enter the below
details and click on Create. The table would be created in a few seconds.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>    Table
name – users</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><i><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>    Partition
key – userid (Number)</span></i></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 36"
src="003-UseCase-DynamoDBStreamsLambda_files/image017.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 37"
src="003-UseCase-DynamoDBStreamsLambda_files/image018.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><br>
<br>
</span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Click on “Manage Streams”.</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 38"
src="003-UseCase-DynamoDBStreamsLambda_files/image019.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go with
the default options and click on “Enable”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=463 height=186 id="Picture 39"
src="003-UseCase-DynamoDBStreamsLambda_files/image020.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal align=center style='margin-bottom:0in;text-align:center;
line-height:normal'><span lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 40"
src="003-UseCase-DynamoDBStreamsLambda_files/image021.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Go back
to the Lambda Management Console and click on “Add trigger”.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 41"
src="003-UseCase-DynamoDBStreamsLambda_files/image022.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><br>
-- Select the DynamoDB service and select the “users” table created earlier. Go
with the rest of the default options and click on “Add”. This integrates the
DynamoDB table with the Lambda function via Triggers.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 42"
src="003-UseCase-DynamoDBStreamsLambda_files/image023.jpg"
alt="A screenshot of a cell phone&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- The DynamoDB Trigger should be added to
the Lambda  function as shown below.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 43"
src="003-UseCase-DynamoDBStreamsLambda_files/image024.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

<span lang=EN-IN style='font-size:12.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- Create
an IAM Role for EC2 with the AmazonDynamoDBFullAccess Policy attached to it.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Create an EC2 instance with the below
details and connect to it.<br>
<br>
    -- t2.micro<br>
    -- Ubuntu OS<br>
    -- Security Group with Port 22/Inbound allowed<br>
<br>
-- Once connected to the EC2 instance execute the below commands. These
commands will install Python, pip, boto3 (AWS Python SDK).<br>
<br>
#become root<br>
sudo su<br>
<br>
#get the list of softwares<br>
apt-get update<br>
<br>
#install python and pip<br>
apt-get install python3 -y</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'><br>
#install python aws sdk<br>
apt-install python3-boto3<br>
<br>
exit<br>
mkdir .aws<br>
echo -e &quot;[default]\nregion=us-east-1&quot; &gt; .aws/config <br clear=all
style='page-break-before:always'>
</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Create a file called dynamodb-put.py with
the below content. Finally execute the “python3 dynamodb-put.py” to execute the
python program which inserts an item in the DynamoDB table. Here we are trying
to mimic an application inserting an item in the DynamoDB table.<br>
<br>
import boto3<br>
<br>
if __name__ == '__main__':<br>
    dynamodb = boto3.resource('dynamodb')<br>
    table = dynamodb.Table('users')<br>
<br>
    response = table.put_item(<br>
       Item={<br>
            'userid': 123,<br>
            'name': &quot;Praveen Sripati&quot;,<br>
            'city': &quot;Hyderabad&quot;,<br>
            'country': &quot;India&quot;<br>
        }<br>
    )<br>
    print(&quot;Put user succeeded:&quot;) <br clear=all style='page-break-before:
always'>
</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>-- The
item should be inserted into the DynamoDB table as shown below. This should
automatically trigger the Lambda function, which will send an email via AWS SES
service.</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-family:"Verdana",sans-serif'><img border=0 width=697
height=338 id="Picture 1"
src="003-UseCase-DynamoDBStreamsLambda_files/image025.jpg"></span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>-- Check your email and there should be email
from the SES service which has been triggered by the Lambda function. The
function in the Lambda function can be replaced with any code for integration
with other applications via AWS SQS Service.</span></p>

<p class=MsoNormal><span lang=EN-IN style='font-size:12.0pt;line-height:115%;
font-family:"Verdana",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;line-height:normal'><span
lang=EN-IN style='font-size:12.0pt;font-family:"Verdana",sans-serif'><img
border=0 width=698 height=341 id="Picture 47"
src="003-UseCase-DynamoDBStreamsLambda_files/image026.jpg"
alt="A screenshot of a social media post&#10;&#10;Description automatically generated"></span></p>

</div>

</body>

</html>
